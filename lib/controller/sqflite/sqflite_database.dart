import 'package:e_commerce_project/data/data_source/static/static.dart';import 'package:e_commerce_project/data/model/cartModel.dart';import 'package:path/path.dart';import 'package:sqflite/sqflite.dart';class SqfliteData {  static Database? db;  static initSqflite() async {    var database = await openDatabase(      join(await getDatabasesPath(), 'ecommerce.db'),      onCreate: (db, version) {        return db            .execute(            'CREATE TABLE e_commerce(id INTEGER PRIMARY KEY, id_item TEXT , name_ar TEXT, name_en TEXT, price TEXT, count TEXT)')            .then((value) {          print('data base Created');        });      },      version: 1,      onOpen: (database) {        print(database!.path);        print('openDataBase');      },    ).then((value) {      db = value;      print('DataBase initialized');    });  }  static insert(CartModel list) async {    try {      await db!.insert('e_commerce', {        'id_item': list.id_item.toString(),        'name_ar': list.name_ar.toString(),        'name_en': list.name_en.toString(),        'price': list.price.toString(),        'count': list.count.toString(),      }).then((value) {        print('Insert Done' + list.toString());      });    } catch (e) {      print(e.toString());    }  }  static update(CartModel list) async  {    try {      await db!.update('e_commerce',          {            'count': list.count,            'price': list.price          }, where: "id_item = ${list.id_item} ",      );    }    catch (x) {}  }  static Future <List<Map<String, Object?>>> getData() async {    return await db!.rawQuery('SELECT * FROM e_commerce').then((value) {      print(value);      CartList = value;      print('Get Data Success');      return value;    });  }  static delete_db() async {    await databaseFactory.deleteDatabase(db!.path).then((value) {      print('Database Deleted');      print(db!.isOpen);    });  }  static deleteData(String where) async  {    await db!.rawDelete('DELETE FROM e_commerce WHERE $where').then((value) {      print('deleted Done');      getData();    });  }}