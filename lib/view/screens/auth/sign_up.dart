import 'package:e_commerce_project/controller/auth/sign_up_controller.dart';import 'package:e_commerce_project/core/constant/image_assets.dart';import 'package:e_commerce_project/core/functions/alert_exist_app.dart';import 'package:e_commerce_project/core/functions/statusRequest.dart';import 'package:e_commerce_project/core/functions/valide.dart';import 'package:e_commerce_project/view/widgets/auth/app_text_field.dart';import 'package:e_commerce_project/view/widgets/auth/custom_button_auth.dart';import 'package:flutter/material.dart';import 'package:get/get.dart';import 'package:get/get_core/src/get_main.dart';import 'package:get/get_navigation/src/extension_navigation.dart';class SignUpScreen extends StatelessWidget {  const SignUpScreen({Key? key}) : super(key: key);  @override  Widget build(BuildContext context) {SignUpControllerImp controllerImp = Get.put(SignUpControllerImp());    Get.put(        SignUpControllerImp()); // لا يتم الاحتفاظ بالبيانات ويتم التخلص منها حال الانتهاء من الكونترولر    return Scaffold(      // backgroundColor: Color(0xFFF5F7FBFF),      appBar: AppBar(        leading: IconButton(          splashRadius: 0.1,          icon: Icon(            Icons.arrow_back_ios_rounded,            color: Colors.black,          ),          onPressed: () {// controllerImp.back_to_sign_in();          },        ),        backgroundColor: Color(0xFFF5F7FBFF),        elevation: 0,        actions: [          IconButton(            onPressed: () {},            icon: Icon(              Icons.language,            ),          ),        ],        centerTitle: true,        title: Text(          "Sign Up",          style: Theme.of(context).textTheme.headline1!.copyWith(              color: Colors.black, fontSize: 24, fontWeight: FontWeight.bold),        ),      ),      body: GetBuilder<SignUpControllerImp>(          init: SignUpControllerImp(),          builder: ((controllerImp) {            if (controllerImp.statusRequest == StatusRequest.loading) {              return Center(                child: CircularProgressIndicator(),              );            } else if (controllerImp.statusRequest ==                StatusRequest.offline_failure) {              return Center(                child: Text('Offline'),              );            } else if (controllerImp.statusRequest == StatusRequest.failure ||                controllerImp.statusRequest == StatusRequest.server_failure) {              return Center(                child: Text('Mistaken'),              );            } else if (controllerImp.statusRequest == StatusRequest.init) {              return WillPopScope(                onWillPop: alertExitApp,                child: Container(                  padding: EdgeInsets.all(15),                  child: Form(                      key: controllerImp.formState,                      child: ListView(                        children: [                          space(30, 0),                          Text(                            'welcome_back'.tr,                            textAlign: TextAlign.center,                            style:                                Theme.of(context).textTheme.headline1!.copyWith(                                      fontSize: 28,                                      fontWeight: FontWeight.w700,                                      color: Colors.black,                                      letterSpacing: 2,                                    ),                          ),                          SizedBox(                            height: 10,                          ),                          Container(                            margin: EdgeInsets.symmetric(                              horizontal: 25,                            ),                            child: Text(                              'un_welcome_signUp'.tr,                              textAlign: TextAlign.center,                              style: Theme.of(context)                                  .textTheme                                  .bodyText1!                                  .copyWith(                                      // fontSize: 25,                                      ),                            ),                          ),                          space(60, 0),                          AppTextField(                            label: 'Name',                            hintText: 'Enter Your Name',                            icon: Icons.person_outline,                            controller:                                controllerImp.text_field_Name_controller,                            context: context,                            valid: (val) {                              return validInput(val!, 5, 100, 'name');                            },                          ),                          // spaca(20, 0),                          space(20, 0),                          AppTextField(                            label: 'Phone',                            hintText: 'Enter Your Phone',                            is_num: true,                            icon: Icons.phone,                            controller:                                controllerImp.text_field_phone_controller,                            context: context,                            valid: (val) {                              return validInput(val!, 5, 100, 'phone');                            },                          ),                          space(20, 0),                          AppTextField(                            label: 'Email',                            hintText: 'Enter Your Email',                            icon: Icons.email_outlined,                            controller:                                controllerImp.text_field_email_controller,                            context: context,                            valid: (val) {                              return validInput(val!, 5, 100, 'email');                            },                          ),                          space(20, 0),                          AppTextField(                            label: 'Password',                            obs: true,                            hintText: 'Enter Your Password',                            icon: Icons.lock_outlined,                            controller:                                controllerImp.text_field_password_controller,                            context: context,                            valid: (val) {                              return validInput(val!, 6, 100, 'password');                            },                          ),                          space(20, 0),                          Custom_Button_Auth(                              txt: 'Sign Up',                              onPressed: () {                                controllerImp.sign_up(context);                              }),                          space(50, 0),                          Row(                            mainAxisAlignment: MainAxisAlignment.center,                            children: [                              Text('Have an account ?  '),                              InkWell(                                onTap: () {                                  controllerImp.back_to_sign_in();                                },                                child: Text(                                  'Sign In',                                  style: TextStyle(                                    color: Colors.deepOrangeAccent,                                  ),                                ),                              ),                            ],                          ),                        ],                      )),                ),              );            }            return Container(              child: Text(                'خطأ',                style: TextStyle(fontSize: 80),              ),            );          })),    );  }}